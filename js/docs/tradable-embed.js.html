<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width" charset="utf-8">
    <title>tradable-embed 1.2</title>
    <link rel="stylesheet" href="http://getbootstrap.com/2.3.2/assets/css/bootstrap.css">
    <link rel="stylesheet" href="http://getbootstrap.com/2.3.2/assets/css/bootstrap-responsive.css">
    <link rel="stylesheet" href="http://getbootstrap.com/2.3.2/assets/css/docs.css">
    <style>
      body > .navbar .brand {
        float:left;
        text-shadow: rgba(255, 255, 255, 0.0980392) 0px 1px 0px, rgba(255, 255, 255, 0.4) 0px 0px 30px;
        color: white;
        margin-left:0px;
        font-weight:normal;
      }
      
      .bs-docs-sidenav.affix {
        box-shadow: 0 0 20px 1px rgba(0, 0, 0, 0.5);
        z-index: 10;
      }
      
      .bs-docs-sidenav i{
        width: 8px;
        height: 8px;
        padding: 0px;
        margin: 0px;
        display: inline-block;
        margin-right:0.5em;
      }
      
      .bs-docs-sidenav > li > a {
          word-wrap: normal; white-space: nowrap;;
      }
      
      .bs-docs-sidenav > li:first-child > a {
        border-top-right-radius: 6px;
        border-top-left-radius: 6px;
      }
      
      code[class*="language-"],pre[class*="language-"]{color:black;text-shadow:0 1px white;font-family:Consolas,Monaco,'Andale Mono',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*="language-"]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*="language-"],pre[class*="language-"]{background:#f5f2f0}:not(pre)>code[class*="language-"]{padding:.1em;border-radius:.3em}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:slategray}.token.punctuation{color:#999}.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number{color:#905}.token.selector,.token.attr-name,.token.string{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.regex,.token.important{color:#e90}.token.important{font-weight:bold}.token.entity{cursor:help}
      div.description {margin: 14px 0; padding-top: 14px; border-bottom:1px solid #eee; }
      .tags {}
      .ctx-type {
        display:inline-block;
        margin-right:0.5em;
        //- float:right; margin-top:8px
      }
      
      footer iframe{vertical-align:middle;}
      
    .language-javascript {display: none;} .bs-docs-sidenav > li > a {font-size: 12px;}.bs-docs-sidenav > li > a > span {width: 100%;display: inline-block;text-overflow: ellipsis;overflow: hidden;vertical-align: middle;}.alert-success {vertical-align: middle;} .smthingForAccount {display: none !important;} .bs-docs-sidenav > li > a {padding: 0px 15px !important;} .bs-docs-sidenav {margin: 15px 0 0 !important;}#overview {background: #2B3641; }.bs-docs-sidenav > li > a{border: 0; border-bottom: 1px solid #e5e5e5} li {line-height: 17px;}.bs-docs-sidenav i {width: 3px; height:3px}</style>
  </head>
  <body data-spy="scroll" data-target=".scrollspy">
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container"><a class="brand">Doxx</a>
          <div class="nav-collapse collapse">
            <ul class="nav pull-right sponsored"></ul>
          </div>
        </div>
      </div>
    </div>
    <header id="overview" class="jumbotron subhead">
      <div class="container">
        <h1>tradable-embed 1.2</h1>
        <p class="lead"></p>
      </div>
    </header>
    <div class="container">
      <div class="row">
        <div class="span3 bs-docs-sidebar">
          <ul class="nav nav-list bs-docs-sidenav affix-top">
            <li class="active"><a href="tradable-embed.js.html">tradable-embed.js</a></li>
            <li><a href="tradable-embed-ui.js.html">tradable-embed-ui.js</a></li>
          </ul>
          <div class="scrollspy">
            <ul class="nav nav-list bs-docs-sidenav affix-top">
              <li><a href="#tradingEnabled"><i class="alert alert-success"></i><span>tradingEnabled</span></a>
              </li>
              <li><a href="#authenticate"><i class="alert alert-info"></i><span>authenticate</span></a>
              </li>
              <li><a href="#authenticateWithWindow"><i class="alert alert-info"></i><span>authenticateWithWindow</span></a>
              </li>
              <li><a href="#signOut"><i class="alert alert-info"></i><span>signOut</span></a>
              </li>
              <li><a href="#onEmbedReady"><i class="alert alert-info"></i><span>onEmbedReady</span></a>
              </li>
              <li><a href="#onAccountUpdated"><i class="alert alert-info"></i><span>onAccountUpdated</span></a>
              </li>
              <li><a href="#setAccountUpdateFrequencyMillis"><i class="alert alert-info"></i><span>setAccountUpdateFrequencyMillis</span></a>
              </li>
              <li><a href="#addSymbolToUpdates"><i class="alert alert-info"></i><span>addSymbolToUpdates</span></a>
              </li>
              <li><a href="#removeSymbolFromUpdates"><i class="alert alert-info"></i><span>removeSymbolFromUpdates</span></a>
              </li>
              <li><a href="#onTokenExpired"><i class="alert alert-info"></i><span>onTokenExpired</span></a>
              </li>
              <li><a href="#onTokenWillExpire"><i class="alert alert-info"></i><span>onTokenWillExpire</span></a>
              </li>
              <li><a href="#getRemainingTokenMillis"><i class="alert alert-info"></i><span>getRemainingTokenMillis</span></a>
              </li>
              <li><a href="#setSelectedAccount"><i class="alert alert-info"></i><span>setSelectedAccount</span></a>
              </li>
              <li><a href="#getInstrumentFromBrokerageAccountSymbol"><i class="alert alert-info"></i><span>getInstrumentFromBrokerageAccountSymbol</span></a>
              </li>
              <li><a href="#getAccountById"><i class="alert alert-info"></i><span>getAccountById</span></a>
              </li>
              <li><a href="#getUser"><i class="alert alert-info"></i><span>getUser</span></a>
              </li>
              <li><a href="#getAccounts"><i class="alert alert-info"></i><span>getAccounts</span></a>
              </li>
              <li><a href="#getCandles"><i class="alert alert-info"></i><span>getCandles</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>getCandlesForAccount</span></a>
              </li>
              <li><a href="#getSnapshot"><i class="alert alert-info"></i><span>getSnapshot</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>getSnapshotForAccount</span></a>
              </li>
              <li><a href="#getInstruments"><i class="alert alert-info"></i><span>getInstruments</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>getInstrumentsForAccount</span></a>
              </li>
              <li><a href="#getMetrics"><i class="alert alert-info"></i><span>getMetrics</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>getMetricsForAccount</span></a>
              </li>
              <li><a href="#getOrders"><i class="alert alert-info"></i><span>getOrders</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>getOrdersForAccount</span></a>
              </li>
              <li><a href="#placeMarketOrder"><i class="alert alert-info"></i><span>placeMarketOrder</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>placeMarketOrderForAccount</span></a>
              </li>
              <li><a href="#placeLimitOrder"><i class="alert alert-info"></i><span>placeLimitOrder</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>placeLimitOrderForAccount</span></a>
              </li>
              <li><a href="#getPendingOrders"><i class="alert alert-info"></i><span>getPendingOrders</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>getPendingOrdersForAccount</span></a>
              </li>
              <li><a href="#getOrderById"><i class="alert alert-info"></i><span>getOrderById</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>getOrderByIdForAccount</span></a>
              </li>
              <li><a href="#modifyOrderPrice"><i class="alert alert-info"></i><span>modifyOrderPrice</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>modifyOrderPriceForAccount</span></a>
              </li>
              <li><a href="#cancelOrder"><i class="alert alert-info"></i><span>cancelOrder</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>cancelOrderForAccount</span></a>
              </li>
              <li><a href="#getPositions"><i class="alert alert-info"></i><span>getPositions</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>getPositionsForAccount</span></a>
              </li>
              <li><a href="#closeAllPositions"><i class="alert alert-info"></i><span>closeAllPositions</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>closeAllPositionsForAccount</span></a>
              </li>
              <li><a href="#getOpenPositions"><i class="alert alert-info"></i><span>getOpenPositions</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>getOpenPositionsForAccount</span></a>
              </li>
              <li><a href="#getPositionById"><i class="alert alert-info"></i><span>getPositionById</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>getPositionByIdForAccount</span></a>
              </li>
              <li><a href="#reducePositionToAmount"><i class="alert alert-info"></i><span>reducePositionToAmount</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>reducePositionToAmountForAccount</span></a>
              </li>
              <li><a href="#closePosition"><i class="alert alert-info"></i><span>closePosition</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>closePositionForAccount</span></a>
              </li>
              <li><a href="#addOrModifyProtections"><i class="alert alert-info"></i><span>addOrModifyProtections</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>addOrModifyProtectionsForAccount</span></a>
              </li>
              <li><a href="#cancelProtections"><i class="alert alert-info"></i><span>cancelProtections</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>cancelProtectionsForAccount</span></a>
              </li>
              <li><a href="#addOrModifyTakeProfit"><i class="alert alert-info"></i><span>addOrModifyTakeProfit</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>addOrModifyTakeProfitForAccount</span></a>
              </li>
              <li><a href="#addOrModifyStopLoss"><i class="alert alert-info"></i><span>addOrModifyStopLoss</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>addOrModifyStopLossForAccount</span></a>
              </li>
              <li><a href="#cancelTakeProfit"><i class="alert alert-info"></i><span>cancelTakeProfit</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>cancelTakeProfitForAccount</span></a>
              </li>
              <li><a href="#cancelStopLoss"><i class="alert alert-info"></i><span>cancelStopLoss</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>cancelStopLossForAccount</span></a>
              </li>
              <li><a href="#getPrices"><i class="alert alert-info"></i><span>getPrices</span></a>
              </li>
              <li><a href="#smthingForAccount" class="smthingForAccount"><i class="alert alert-info"></i><span>getPricesForAccount</span></a>
              </li>
              <li><a href="#getDailyClose"><i class="alert alert-info"></i><span>getDailyClose</span></a>
              </li>
            </ul>
          </div>
        </div>
        <div class="span9">
          <div class="description"><p>Welcome to the tradable-embed documentation. Tradable Embed is an open API to easily build financial trading features into any app, through any brokerage. This is the documentation for the tradable-embed javascript SDK, which is split into 2 components:</p><ul><li><b>tradable-embed</b>: Lightweight wrapper of the Tradable Embed API that will make the integration with Tradable Embed API really easy.</li><li><b>tradable-embed-ui</b>: See <a href='tradable-embed-ui.js.html'>here</a> (optional)</li></ul>

<p>In order to use tradable-embed include the following scripts in your site (we use jQuery in no coflict mode and we assign it to the variable &#39;trEmbJQ&#39;):</p><p><pre>&lt;script type=&quot;text/javascript&quot; src=&quot;//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js&quot;&gt;&lt;/script&gt;<br />&lt;script type=&quot;text/javascript&quot; src=&quot;//js-api.tradable.com/1.2/tradable-embed.js&quot; id=&quot;tradable-api&quot; data-app-id=&quot;{your_app_id}&quot;&gt;&lt;/script&gt;</pre><br /><b>NOTE! The oauth flow doesn&#39;t work properly in this documentation site for the codepen examples, for the best experience please see the examples on Codepen.io, you can do that clicking on the &quot;Edit on Codepen&quot; link</b></p> </div>
          <pre><code class="language-javascript">**/

    // Constructor
    function TradableEmbed () {}
    
    var jsVersion = &quot;js-trEmbDevVersionX&quot;;
    var appId = $('#tradable-api').attr(&quot;data-app-id&quot;);
    // Just for testing purposes
    var customOAuthUrl = $('#tradable-api').attr(&quot;data-custom-oauth-url&quot;);

    var redirectUrl = location.href;
    if(!!$('#tradable-api').attr(&quot;data-redirect-uri&quot;)) {
        redirectUrl = $('#tradable-api').attr(&quot;data-redirect-uri&quot;);
    }
    var oauthHost = &quot;api.tradable.com&quot;;
    if(appId &gt; 200000) { // Staging app-id
        oauthHost = &quot;api-staging.tradable.com&quot;;
        console.log(&quot;Starting in staging mode...&quot;);
    }

    var token = localStorage.getItem(&quot;accessToken:&quot;+appId);
    var authEndpoint = localStorage.getItem(&quot;authEndpoint:&quot;+appId);
    var tradingEnabled = localStorage.getItem(&quot;tradingEnabled:&quot;+appId);
    var expirationTimeUTC = localStorage.getItem(&quot;expirationTimeUTC:&quot;+appId);

    if(tradingEnabled &amp;&amp; (!authEndpoint || !token || !expirationTimeUTC)) {
        tradingEnabled = false;
        localStorage.setItem(&quot;tradingEnabled:&quot;+appId, tradingEnabled);
    }
    var accountUpdatedCallbacks = [];
    var accountUpdatedCallbackHashes = [];
    var tokenExpirationCallbacks = [];
    var tokenWillExpireCallbacks = [];
    var processingUpdate = false;

    //Actual library obj
    var tradableEmbed = {
        app_id: appId,
        auth_loc: (!customOAuthUrl) ? 'https://'+oauthHost+'/oauth/authorize?client_id='+appId+'&amp;scope=trade&amp;response_type=token&amp;redirect_uri='+redirectUrl
                                    : customOAuthUrl,
        auth_window: null,
        authEndpoint : authEndpoint,
        accessToken : token,
        notifiedCallbacks : false,</code></pre>
          <section id="tradingEnabled">
            <h1>tradingEnabled</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">property</div><span>tradingEnabled</span>
            </p>
          </section>
          <div class="description"><p>Boolean that indicates if the user is authenticated</p> </div>
          <pre><code class="language-javascript">tradingEnabled : tradingEnabled,
expirationTimeUTC : expirationTimeUTC, 
readyCallbacks : [],
accounts : [],
accountMap: {},
selectedAccount : null,
selectedAccountId : null,
availableCategories : [],
availableInstruments : [],
availableSymbols : [],
		availableCurrencies : [],
		lastSnapshot: null,
		symbolKeysForAccountUpdates: [],
		accountUpdateInterval: null,
		accountUpdateMillis: 700,</code></pre>
          <section id="authenticate">
            <h1>authenticate</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>authenticate()</span>
            </p>
          </section>
          <div class="description"><p>Start oauth flow within the page</p> </div>
          <pre><code class="language-javascript">authenticate: function () {
    console.log(&quot;Starting oauth flow...&quot;);
    if (!tradableEmbed.tradingEnabled){
        location.href = tradableEmbed.auth_loc;
    } else {
        validateToken();
    }
},</code></pre>
          <section id="authenticateWithWindow">
            <h1>authenticateWithWindow</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>authenticateWithWindow()</span>
            </p>
          </section>
          <div class="description"><p>Start oauth flow in a popup window (on IE versions below Edge authentication will happen in the same window)</p> </div>
          <pre><code class="language-javascript">authenticateWithWindow: function (){
    if(ie()) {
        console.log('Window opener no supported in IE, redirecting to oauth...');
        return tradableEmbed.authenticate();
    }
    console.log(&quot;Opening oauth window...&quot;);
    if (!tradableEmbed.tradingEnabled){
        tradableEmbed.auth_window = popupwindow(tradableEmbed.auth_loc, 'osLaunch', 420, 420);
    } else {
        validateToken();
    }
},</code></pre>
          <section id="signOut">
            <h1>signOut</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>signOut()</span>
            </p>
          </section>
          <div class="description"><p>Drops authentication token and notifies embed callbacks</p> </div>
          <pre><code class="language-javascript">signOut: function() {
    localStorage.removeItem(&quot;accessToken:&quot;+appId);
    localStorage.removeItem(&quot;authEndpoint:&quot;+appId);
    localStorage.removeItem(&quot;tradingEnabled:&quot;+appId);
    localStorage.removeItem(&quot;expirationTimeUTC:&quot;+appId);
    tradableEmbed.tradingEnabled = false;
    notifyReadyCallbacks();
},</code></pre>
          <section id="onEmbedReady">
            <h1>onEmbedReady</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>onEmbedReady()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>callback</td>
                <td>Function</td>
                <td><p>Callback function to be notified</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Main library state notifier, called every time the state of tradingEnabled changes</p> </div>
          <pre><code class="language-javascript">onEmbedReady : function (callback) {
    tradableEmbed.readyCallbacks.push(callback);
    if(tradableEmbed.notifiedCallbacks) {
        callback();
    }
},</code></pre>
          <h5>Example</h5>
          <p>
            <iframe width="100%" height="300" src="http://codepen.io/tradableEmbed/embed/avPzgP/?height=268&amp;theme-id=21042&amp;default-tab=js" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
          </p>
          <section id="onAccountUpdated">
            <h1>onAccountUpdated</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>onAccountUpdated()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>callback</td>
                <td>Function</td>
                <td><p>Callback function to be notified</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Start a timer that will request and notify a new account snapshot every certain time (700 millis by default) </p> </div>
          <pre><code class="language-javascript">onAccountUpdated : function(callback) {
    if(!!callback) {
        if(accountUpdatedCallbacks.length === 0) {
            tradableEmbed.accountUpdateInterval = setInterval(processAccountUpdate, tradableEmbed.accountUpdateMillis);
        }
        var callbackHash = hashCode(callback.toString());
        if($.inArray(callbackHash, accountUpdatedCallbackHashes) === -1) {
            accountUpdatedCallbacks.push(callback);
            accountUpdatedCallbackHashes.push(callbackHash);
        }
    }
},</code></pre>
          <h5>Example</h5>
          <p>
            <iframe width="100%" height="300" src="http://codepen.io/tradableEmbed/embed/rObOqE/?height=268&amp;theme-id=21042&amp;default-tab=js" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
          </p>
          <section id="setAccountUpdateFrequencyMillis">
            <h1>setAccountUpdateFrequencyMillis</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>setAccountUpdateFrequencyMillis()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>accUpdateMillis</td>
                <td>long</td>
                <td><p>Frequency in milliseconds</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Customize the frequency for account snapshot updates (onAccountUpdated)</p> </div>
          <pre><code class="language-javascript">setAccountUpdateFrequencyMillis: function(accUpdateMillis) {
    if(!!accUpdateMillis &amp;&amp; accUpdateMillis &gt; 0) {
        tradableEmbed.accountUpdateMillis = accUpdateMillis;
        if(!!tradableEmbed.accountUpdateInterval) {
            clearInterval(tradableEmbed.accountUpdateInterval);
            tradableEmbed.accountUpdateInterval = setInterval(processAccountUpdate, tradableEmbed.accountUpdateMillis);
        }
    } else {
        console.error(&quot;Please specify a valid update frequency&quot;);
    }
},</code></pre>
          <section id="addSymbolToUpdates">
            <h1>addSymbolToUpdates</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>addSymbolToUpdates()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>updateClientId</td>
                <td>String</td>
                <td><p>Id for the element that is requesting the prices, only when no ids are subscribed to a symbol will the symbol be removed from the updates</p></td>
              </tr>
              <tr>
                <td>symbolToAdd</td>
                <td>String</td>
                <td><p>Instrument symbol for the prices</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Subscribe for the given instrument symbol&#39;s prices on the account snaphot updates (onAccountUpdated)</p> </div>
          <pre><code class="language-javascript">addSymbolToUpdates: function(updateClientId, symbolToAdd) {
    if(updateClientId.indexOf(&quot;:&quot;) !== -1) {
        console.error(&quot;It is not allowed to include a colon ':' in the updateClientId&quot;);
        return;
    }
    var symbolKey = symbolToAdd + &quot;:&quot; + updateClientId;
    if($.inArray(symbolKey, tradableEmbed.symbolKeysForAccountUpdates) === -1
            &amp;&amp; $.inArray(symbolToAdd, tradableEmbed.availableSymbols) !== -1) {
        tradableEmbed.symbolKeysForAccountUpdates.push(symbolKey);
    }
},</code></pre>
          <section id="removeSymbolFromUpdates">
            <h1>removeSymbolFromUpdates</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>removeSymbolFromUpdates()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>updateClientId</td>
                <td>String</td>
                <td><p>Id for the element that is requesting the prices, only when no ids are subscribed to a symbol will the symbol be removed from the updates</p></td>
              </tr>
              <tr>
                <td>symbolToAdd</td>
                <td>String</td>
                <td><p>Instrument symbol for the prices</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Unsubscribe for the given instrument symbol&#39;s prices on the account snaphot updates (onAccountUpdated)</p> </div>
          <pre><code class="language-javascript">removeSymbolFromUpdates: function(updateClientId, symbolToRemove) {
    var symbolKey = symbolToRemove + &quot;:&quot; + updateClientId;
    tradableEmbed.symbolKeysForAccountUpdates = $.grep(tradableEmbed.symbolKeysForAccountUpdates, function(value) {
        return value != symbolKey;
    });  
},</code></pre>
          <section id="onTokenExpired">
            <h1>onTokenExpired</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>onTokenExpired()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>callback</td>
                <td>Function</td>
                <td><p>Callback function to be notified</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Gets called back when the token expires</p> </div>
          <pre><code class="language-javascript">onTokenExpired: function(callback) {
    if($.inArray(callback, tokenExpirationCallbacks) === -1) {
        tokenExpirationCallbacks.push(callback);
    }
},</code></pre>
          <section id="onTokenWillExpire">
            <h1>onTokenWillExpire</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>onTokenWillExpire()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>callback</td>
                <td>Function</td>
                <td><p>Callback function to be notified</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Gets called back every 5 minutes when the remaining token time is less than 30 minutes</p> </div>
          <pre><code class="language-javascript">onTokenWillExpire: function(callback) {
    if(tokenWillExpireCallbacks.length === 0) {
        setInterval(processTokenWillExpire, 300000); // 5 minutes
    }
    if($.inArray(callback, tokenWillExpireCallbacks) === -1) {
        tokenWillExpireCallbacks.push(callback);
    }
    function processTokenWillExpire() {
        var remainingMillis = tradableEmbed.getRemainingTokenMillis();
        if(!!remainingMillis &amp;&amp; remainingMillis &gt; 0 &amp;&amp; remainingMillis &lt; 1800000) { // 30 minutes
            $(tokenWillExpireCallbacks).each(function(index, callback){
                callback(remainingMillis);
            });
        }
    }
},</code></pre>
          <section id="getRemainingTokenMillis">
            <h1>getRemainingTokenMillis</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getRemainingTokenMillis()</span>
            </p>
          </section>
          <div class="description"><p>Returns the remaining milliseconds for the token to expire</p> </div>
          <pre><code class="language-javascript">getRemainingTokenMillis : function() {
    if(!tradableEmbed.expirationTimeUTC) {
        console.log(&quot;You need to authenticate before calling this method&quot;);
    }
    return (tradableEmbed.expirationTimeUTC - new Date().getTime());
},
makeOsRequest : function (reqType, type, accountId, method, postData, resolve, reject){
    var endpoint;
    if(accountId !== undefined &amp;&amp; accountId !== null &amp;&amp; accountId.length === 0) {
        endpoint = tradableEmbed.authEndpoint;
    } else if(!!tradableEmbed.accountMap[accountId]) {
        endpoint = tradableEmbed.accountMap[accountId].endpointURL;
    } else {
        console.info(&quot;Please specify a valid accountId or method&quot;);
    }
    var ajaxPromise = $.ajax({
        type: type,
        beforeSend: function (request) {
            request.setRequestHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + tradableEmbed.accessToken);
            request.setRequestHeader(&quot;x-tr-embed-sdk&quot;, jsVersion);
        },
        crossDomain: true,
        url: (!!accountId &amp;&amp; accountId.length &gt; 0) ? (endpoint + &quot;v1/&quot;+reqType+&quot;/&quot;+accountId+&quot;/&quot;+method) 
                                                   : (endpoint + &quot;v1/&quot;+reqType+&quot;/&quot;+method),
        contentType: &quot;application/json; charset=utf-8&quot;,
        data: (!!postData) ? JSON.stringify(postData) : undefined,
        dataType: 'json'
    });

    ajaxPromise.then(function(){}, 
        function(jqXHR, message, error){
            if(!!jqXHR.responseJSON &amp;&amp; jqXHR.responseJSON.httpStatus === 403) {
                notifyTokenExpired();
            }
        });
    
    if(!!resolve || !!reject){
        return ajaxPromise.then(function(data){
            if(typeof resolve === &quot;function&quot;)
                return resolve(data);
        }, function(jqXHR, message, error){
            if(typeof reject === &quot;function&quot;)
                return reject(jqXHR, message, error);
        });
    } else {
        if(typeof Promise !== &quot;undefined&quot; &amp;&amp; Promise.toString().indexOf(&quot;[native code]&quot;) !== -1){
            return Promise.resolve(ajaxPromise);
        } else {
            return ajaxPromise;
        }
    }
},
makeAccountRequest : function (type, accountId, method, postData, resolve, reject){
    return tradableEmbed.makeOsRequest(&quot;accounts&quot;, type, accountId, method, postData, resolve, reject);
},</code></pre>
          <section id="setSelectedAccount">
            <h1>setSelectedAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>setSelectedAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>Account uniqueId</p></td>
              </tr>
              <tr>
                <td>resolve</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Sets the account unique id that will be used for account related API calls</p> </div>
          <pre><code class="language-javascript">setSelectedAccount : function (accountId, resolve, reject){
    if(!!tradableEmbed.accountMap[accountId]) {
        tradableEmbed.selectedAccount = tradableEmbed.accountMap[accountId];
        tradableEmbed.selectedAccountId = accountId;
        return initializeValuesForCurrentAccount(resolve, reject);
        console.log('accountId is set to: ' + accountId);
    } else {
        console.error(&quot;Can't set account id to: &quot; + accountId);
    }
},
/**
 * Returns the correspondent instrument obj to the symbol if it's in the current account
 * @param      {String}   symbol Instrument symbol
 * @return      {Object} Correspondent instrument obj to the symbol or null if not found
 */ 
getInstrumentFromSymbol : function(symbol) {
    var instrument = null;
    $(tradableEmbed.availableInstruments).each(function(index, ins){
        if(ins.symbol.toUpperCase() === symbol.toUpperCase()) {
            instrument = ins;
            return false;
        }
    });
    return instrument;
},</code></pre>
          <section id="getInstrumentFromBrokerageAccountSymbol">
            <h1>getInstrumentFromBrokerageAccountSymbol</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getInstrumentFromBrokerageAccountSymbol()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>symbol</td>
                <td>String</td>
                <td><p>Instrument symbol</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>Correspondent instrument obj to the symbol or null if not found</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns the correspondent instrument obj to the brokerageAccountSymbol if it&#39;s in the current account</p> </div>
          <pre><code class="language-javascript">getInstrumentFromBrokerageAccountSymbol : function(brokerageAccountSymbol) {
    var instrument = null;
    $(tradableEmbed.availableInstruments).each(function(index, ins){
        if(ins.brokerageAccountSymbol.toUpperCase() === brokerageAccountSymbol.toUpperCase()) {
            instrument = ins;
            return false;
        }
    });
    return instrument;
},</code></pre>
          <section id="getAccountById">
            <h1>getAccountById</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getAccountById()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>Account uniqueId</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>Account object for the given account uniqueId or undefined if not found</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns the account object for the given account uniqueId</p> </div>
          <pre><code class="language-javascript">getAccountById: function(accountId) {
    return tradableEmbed.accountMap[accountId];
},
//v1/user</code></pre>
          <section id="getUser">
            <h1>getUser</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getUser()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Provides information about the end-user</p> </div>
          <pre><code class="language-javascript">getUser : function (resolve, reject) {
    return tradableEmbed.makeOsRequest(&quot;user&quot;, &quot;GET&quot;, &quot;&quot;, &quot;&quot;, null, resolve, reject);
},
//v1/accounts</code></pre>
          <section id="getAccounts">
            <h1>getAccounts</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getAccounts()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Initializes the tradableEmbed.accountsMap and the tradableEmbed.accounts list</p> </div>
          <pre><code class="language-javascript">getAccounts : function (resolve, reject){
    var accountsPromise = tradableEmbed.makeAccountRequest(&quot;GET&quot;, &quot;&quot;, &quot;&quot;, null).then(function(data){
        tradableEmbed.accounts.splice(0, tradableEmbed.accounts.length);
        tradableEmbed.accountMap = {};
        $(data.accounts).each(function(index, account){
           if (!!account.uniqueId &amp;&amp; account.uniqueId !== &quot;NA&quot;){
               tradableEmbed.accounts.push(account);
               tradableEmbed.accountMap[account.uniqueId] = account;
           }
        });
    });

    if(!!resolve || !!reject){
        return accountsPromise.then(function(data){
            if(typeof resolve === &quot;function&quot;)
                return resolve(data);
        }, function(jqXHR, message, error){
            if(typeof reject === &quot;function&quot;)
                return reject(jqXHR, message, error);
        });
    } else {
        return accountsPromise;
    }
},
//v1/accounts/{accountId}/candles</code></pre>
          <h5>Example</h5>
          <p>
            <iframe width="100%" height="300" src="http://codepen.io/tradableEmbed/embed/ZbZWbe/?height=268&amp;theme-id=21042&amp;default-tab=js" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
          </p>
          <section id="getCandles">
            <h1>getCandles</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getCandles()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>symbol</td>
                <td>String</td>
                <td><p>The symbol to get candles for</p></td>
              </tr>
              <tr>
                <td>from</td>
                <td>long</td>
                <td><p>The start of the candle range. In milliseconds since epoch</p></td>
              </tr>
              <tr>
                <td>to</td>
                <td>long</td>
                <td><p>The end of the candle range. In milliseconds since epoch</p></td>
              </tr>
              <tr>
                <td>aggregation</td>
                <td>int</td>
                <td><p>The aggregation interval in minutes. Allowed values: 1,5,15,30,60,1440,21600,40320</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Provides candles for the selectedAccount, given symbol, aggregation and range (from-to)</p> </div>
          <pre><code class="language-javascript">getCandles : function (symbol, from, to, aggregation, resolve, reject) {
    return tradableEmbed.getCandlesForAccount(tradableEmbed.selectedAccountId, symbol, from, to, aggregation, resolve, reject);
},</code></pre>
          <section id="getCandlesForAccount">
            <h1>getCandlesForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getCandlesForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>symbol</td>
                <td>String</td>
                <td><p>The symbol to get candles for</p></td>
              </tr>
              <tr>
                <td>from</td>
                <td>long</td>
                <td><p>The start of the candle range. In milliseconds since epoch</p></td>
              </tr>
              <tr>
                <td>to</td>
                <td>long</td>
                <td><p>The end of the candle range. In milliseconds since epoch</p></td>
              </tr>
              <tr>
                <td>aggregation</td>
                <td>int</td>
                <td><p>The aggregation interval in minutes. Allowed values: 1,5,15,30,60,1440,21600,40320</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Provides candles for a specific account, the given symbol, aggregation and range (from-to)</p> </div>
          <pre><code class="language-javascript">getCandlesForAccount : function (accountId, symbol, from, to, aggregation, resolve, reject) {
    var candleRequest = {&quot;symbol&quot;: symbol, &quot;from&quot;: from, &quot;to&quot;: to, &quot;aggregation&quot;: aggregation};
    return tradableEmbed.makeAccountRequest(&quot;POST&quot;, accountId, &quot;candles/&quot;, candleRequest, resolve, reject);
},
//v1/accounts/{accountId}</code></pre>
          <section id="getSnapshot">
            <h1>getSnapshot</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getSnapshot()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>symbols</td>
                <td>Array</td>
                <td><p>Array of symbols for the wanted prices</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Provides the account snapshot for the selectedAccount - a full snapshot of all orders, positions, account metrics and prices for the symbols given as input</p> </div>
          <pre><code class="language-javascript">getSnapshot : function (symbols, resolve, reject){
    return tradableEmbed.getSnapshotForAccount(tradableEmbed.selectedAccountId, symbols, resolve, reject);
},</code></pre>
          <section id="getSnapshotForAccount">
            <h1>getSnapshotForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getSnapshotForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>symbols</td>
                <td>Array</td>
                <td><p>Array of symbols for the wanted prices</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Provides the account snapshot for a specific account - a full snapshot of all orders, positions, account metrics and prices for the symbols given as input</p> </div>
          <pre><code class="language-javascript">getSnapshotForAccount : function (accountId, symbols, resolve, reject){
    var symbolsObj = {&quot;symbols&quot;: symbols};
    return tradableEmbed.makeAccountRequest(&quot;POST&quot;, accountId, &quot;&quot;, symbolsObj, resolve, reject);
},
//v1/accounts/{accountId}/instruments</code></pre>
          <section id="getInstruments">
            <h1>getInstruments</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getInstruments()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns a list of instruments available for the selectedAccount</p> </div>
          <pre><code class="language-javascript">getInstruments : function (resolve, reject){
    return tradableEmbed.getInstrumentsForAccount(tradableEmbed.selectedAccountId, resolve, reject);
},</code></pre>
          <section id="getInstrumentsForAccount">
            <h1>getInstrumentsForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getInstrumentsForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns a list of instruments available for a specific accountId</p> </div>
          <pre><code class="language-javascript">getInstrumentsForAccount : function (accountId, resolve, reject){
    return tradableEmbed.makeAccountRequest(&quot;GET&quot;, accountId, &quot;instruments/&quot;, null, resolve, reject);
},
//v1/accounts/{accountId}/metrics</code></pre>
          <section id="getMetrics">
            <h1>getMetrics</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getMetrics()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>The users balance and other account metrics for the selectedAccount</p> </div>
          <pre><code class="language-javascript">getMetrics : function (resolve, reject){
    return tradableEmbed.getMetricsForAccount(tradableEmbed.selectedAccountId, resolve, reject);
},</code></pre>
          <section id="getMetricsForAccount">
            <h1>getMetricsForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getMetricsForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>The users balance and other account metrics for a specific accountId</p> </div>
          <pre><code class="language-javascript">getMetricsForAccount : function (accountId, resolve, reject){
    return tradableEmbed.makeAccountRequest(&quot;GET&quot;, accountId, &quot;metrics/&quot;, null, resolve, reject);
},
//v1/accounts/{accountId}/orders</code></pre>
          <section id="getOrders">
            <h1>getOrders</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getOrders()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns a list of all the orders divided in pending, recentlyCancelled and recentlyExecuted for the selectedAccount</p> </div>
          <pre><code class="language-javascript">getOrders : function (resolve, reject){
    return tradableEmbed.getOrdersForAccount(tradableEmbed.selectedAccountId, resolve, reject);
},</code></pre>
          <section id="getOrdersForAccount">
            <h1>getOrdersForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getOrdersForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns a list of all the orders divided in pending, recentlyCancelled and recentlyExecuted for a specific accountId</p> </div>
          <pre><code class="language-javascript">getOrdersForAccount : function (accountId, resolve, reject){
    return tradableEmbed.makeAccountRequest(&quot;GET&quot;, accountId, &quot;orders/&quot;, null, resolve, reject);
},</code></pre>
          <section id="placeMarketOrder">
            <h1>placeMarketOrder</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>placeMarketOrder()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>amount</td>
                <td>double</td>
                <td><p>The order amount</p></td>
              </tr>
              <tr>
                <td>side</td>
                <td>String</td>
                <td><p>The order side (&#39;BUY&#39; or &#39;SELL&#39;)</p></td>
              </tr>
              <tr>
                <td>symbol</td>
                <td>String</td>
                <td><p>The instrument symbol for the order</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Place a MARKET order on the selectedAccount</p> </div>
          <pre><code class="language-javascript">placeMarketOrder : function (amount, side, symbol, resolve, reject){
    return tradableEmbed.placeOrder(amount, 0, side, symbol, &quot;MARKET&quot;, resolve, reject);
},</code></pre>
          <section id="placeMarketOrderForAccount">
            <h1>placeMarketOrderForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>placeMarketOrderForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>amount</td>
                <td>double</td>
                <td><p>The order amount</p></td>
              </tr>
              <tr>
                <td>side</td>
                <td>String</td>
                <td><p>The order side (&#39;BUY&#39; or &#39;SELL&#39;)</p></td>
              </tr>
              <tr>
                <td>symbol</td>
                <td>String</td>
                <td><p>The instrument symbol for the order</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Place a MARKET order on a specific account</p> </div>
          <pre><code class="language-javascript">placeMarketOrderForAccount : function (accountId, amount, side, symbol, resolve, reject){
    return tradableEmbed.placeOrderForAccount(accountId, amount, 0, side, symbol, &quot;MARKET&quot;, resolve, reject);
},</code></pre>
          <section id="placeLimitOrder">
            <h1>placeLimitOrder</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>placeLimitOrder()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>amount</td>
                <td>double</td>
                <td><p>The order amount</p></td>
              </tr>
              <tr>
                <td>price</td>
                <td>double</td>
                <td><p>The trigger price for the order</p></td>
              </tr>
              <tr>
                <td>side</td>
                <td>String</td>
                <td><p>The order side (&#39;BUY&#39; or &#39;SELL&#39;)</p></td>
              </tr>
              <tr>
                <td>symbol</td>
                <td>String</td>
                <td><p>The instrument symbol for the order</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Place a LIMIT order on the selectedAccount</p> </div>
          <pre><code class="language-javascript">placeLimitOrder : function (amount, price, side, symbol, resolve, reject){
    return tradableEmbed.placeOrder(amount, price, side, symbol, &quot;LIMIT&quot;, resolve, reject);
},</code></pre>
          <section id="placeLimitOrderForAccount">
            <h1>placeLimitOrderForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>placeLimitOrderForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>amount</td>
                <td>double</td>
                <td><p>The order amount</p></td>
              </tr>
              <tr>
                <td>price</td>
                <td>double</td>
                <td><p>The trigger price for the order.</p></td>
              </tr>
              <tr>
                <td>side</td>
                <td>String</td>
                <td><p>The order side (&#39;BUY&#39; or &#39;SELL&#39;)</p></td>
              </tr>
              <tr>
                <td>symbol</td>
                <td>String</td>
                <td><p>The instrument symbol for the order</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Place a LIMIT order on a specific account</p> </div>
          <pre><code class="language-javascript">placeLimitOrderForAccount : function (accountId, amount, price, side, symbol, resolve, reject){
    return tradableEmbed.placeOrderForAccount(accountId, amount, price, side, symbol, &quot;LIMIT&quot;, resolve, reject);
},
placeOrder : function (amount, price, side, symbol, type, resolve, reject){
    return tradableEmbed.placeOrderForAccount(tradableEmbed.selectedAccountId, amount, price, side, symbol, type, resolve, reject);
},
placeOrderForAccount : function (accountId, amount, price, side, symbol, type, resolve, reject){
    var order = {&quot;amount&quot;: amount, &quot;price&quot;: price, &quot;side&quot;: side, &quot;symbol&quot;: symbol, &quot;type&quot;: type};
    return tradableEmbed.makeAccountRequest(&quot;POST&quot;, accountId, &quot;orders/&quot;, order, resolve, reject);
},
//v1/accounts/{accountId}/orders/pending</code></pre>
          <section id="getPendingOrders">
            <h1>getPendingOrders</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getPendingOrders()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns a list of all the pending orders the selectedAccount - This will typically be limit orders but in a market without liquidity it can also contain market orders</p> </div>
          <pre><code class="language-javascript">getPendingOrders : function (resolve, reject){
    return tradableEmbed.getPendingOrdersForAccount(tradableEmbed.selectedAccountId, resolve, reject);
},</code></pre>
          <section id="getPendingOrdersForAccount">
            <h1>getPendingOrdersForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getPendingOrdersForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns a list of all the pending orders for a specific account - This will typically be limit orders but in a market without liquidity it can also contain market orders</p> </div>
          <pre><code class="language-javascript">getPendingOrdersForAccount : function (accountId, resolve, reject){
    return tradableEmbed.makeAccountRequest(&quot;GET&quot;, accountId, &quot;orders/pending&quot;, null, resolve, reject);
},
//v1/accounts/{accountId}/orders/{orderId}</code></pre>
          <section id="getOrderById">
            <h1>getOrderById</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getOrderById()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>orderId</td>
                <td>String</td>
                <td><p>Id of order</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns an order for the provided id and the selectedAccount, without the up-to-date price</p> </div>
          <pre><code class="language-javascript">getOrderById : function (orderId, resolve, reject){
    return tradableEmbed.getOrderByIdForAccount(tradableEmbed.selectedAccountId, orderId, resolve, reject);
},</code></pre>
          <section id="getOrderByIdForAccount">
            <h1>getOrderByIdForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getOrderByIdForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>orderId</td>
                <td>String</td>
                <td><p>Id of order</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns an order for the provided id and a specific account, without the up-to-date price</p> </div>
          <pre><code class="language-javascript">getOrderByIdForAccount : function (accountId, orderId, resolve, reject){
    return tradableEmbed.makeAccountRequest(&quot;GET&quot;, accountId, &quot;orders/&quot;+orderId, null, resolve, reject);
},</code></pre>
          <section id="modifyOrderPrice">
            <h1>modifyOrderPrice</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>modifyOrderPrice()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>orderId</td>
                <td>String</td>
                <td><p>Id of order to modify</p></td>
              </tr>
              <tr>
                <td>newPrice</td>
                <td>String</td>
                <td><p>The new trigger price</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Modifies the price for the order identified with the given id on the selectedAccount</p> </div>
          <pre><code class="language-javascript">modifyOrderPrice : function (orderId, newPrice, resolve, reject){
    return tradableEmbed.modifyOrderPriceForAccount(tradableEmbed.selectedAccountId, orderId, newPrice, resolve, reject);
},</code></pre>
          <section id="modifyOrderPriceForAccount">
            <h1>modifyOrderPriceForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>modifyOrderPriceForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>orderId</td>
                <td>String</td>
                <td><p>Id of order to modify</p></td>
              </tr>
              <tr>
                <td>newPrice</td>
                <td>String</td>
                <td><p>The new trigger price</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Modifies the price for the order identified with the given id on a specific account</p> </div>
          <pre><code class="language-javascript">modifyOrderPriceForAccount : function (accountId, orderId, newPrice, resolve, reject){
    var orderModification = {&quot;price&quot;: newPrice};
    return tradableEmbed.makeAccountRequest(&quot;PUT&quot;, accountId, &quot;orders/&quot;+orderId, orderModification, resolve, reject);
},</code></pre>
          <section id="cancelOrder">
            <h1>cancelOrder</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>cancelOrder()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>orderId</td>
                <td>String</td>
                <td><p>Id of order to cancel</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Cancels the order with the given id on the selectedAccount</p> </div>
          <pre><code class="language-javascript">cancelOrder : function (orderId, resolve, reject){
    return tradableEmbed.cancelOrderForAccount(tradableEmbed.selectedAccountId, orderId, resolve, reject);
},</code></pre>
          <section id="cancelOrderForAccount">
            <h1>cancelOrderForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>cancelOrderForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>orderId</td>
                <td>String</td>
                <td><p>Id of order to cancel</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Cancels the order with the given id on a specific account</p> </div>
          <pre><code class="language-javascript">cancelOrderForAccount : function (accountId, orderId, resolve, reject){
    return tradableEmbed.makeAccountRequest(&quot;DELETE&quot;, accountId, &quot;orders/&quot;+orderId, null, resolve, reject);
},
//v1/accounts/{accountId}/positions</code></pre>
          <section id="getPositions">
            <h1>getPositions</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getPositions()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns a list of all the positions on the selectedAccount. Will return open and recently closed positions</p> </div>
          <pre><code class="language-javascript">getPositions : function (resolve, reject){
    return tradableEmbed.getPositionsForAccount(tradableEmbed.selectedAccountId, resolve, reject);
},</code></pre>
          <section id="getPositionsForAccount">
            <h1>getPositionsForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getPositionsForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns a list of all the positions on a specific account. Will return open and recently closed positions</p> </div>
          <pre><code class="language-javascript">getPositionsForAccount : function (accountId, resolve, reject){
    return tradableEmbed.makeAccountRequest(&quot;GET&quot;, accountId, &quot;positions/&quot;, null, resolve, reject);
},</code></pre>
          <section id="closeAllPositions">
            <h1>closeAllPositions</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>closeAllPositions()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Closes all positions on the selectedAccount</p> </div>
          <pre><code class="language-javascript">closeAllPositions : function (resolve, reject){
    return tradableEmbed.closeAllPositionsForAccount(tradableEmbed.selectedAccountId, resolve, reject);
},</code></pre>
          <section id="closeAllPositionsForAccount">
            <h1>closeAllPositionsForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>closeAllPositionsForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Closes all positions on a specific account</p> </div>
          <pre><code class="language-javascript">closeAllPositionsForAccount : function (accountId, resolve, reject){
    return tradableEmbed.makeAccountRequest(&quot;DELETE&quot;, accountId, &quot;positions/&quot;, null, resolve, reject);
},
//v1/accounts/{accountId}/positions/open</code></pre>
          <section id="getOpenPositions">
            <h1>getOpenPositions</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getOpenPositions()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns a list of all the open positions on the selectedAccount</p> </div>
          <pre><code class="language-javascript">getOpenPositions : function (resolve, reject){
    return tradableEmbed.getOpenPositionsForAccount(tradableEmbed.selectedAccountId, resolve, reject);
},</code></pre>
          <section id="getOpenPositionsForAccount">
            <h1>getOpenPositionsForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getOpenPositionsForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns a list of all the open positions on a specific account</p> </div>
          <pre><code class="language-javascript">getOpenPositionsForAccount : function (accountId, resolve, reject){
    return tradableEmbed.makeAccountRequest(&quot;GET&quot;, accountId, &quot;positions/open&quot;, null, resolve, reject);
},
//v1/accounts/{accountId}/positions/{positionId}</code></pre>
          <section id="getPositionById">
            <h1>getPositionById</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getPositionById()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to retrieve</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns a position for the provided id, without the up-to-date price and metrics on the selectedAccount</p> </div>
          <pre><code class="language-javascript">getPositionById : function (positionId, resolve, reject){
    return tradableEmbed.getPositionByIdForAccount(tradableEmbed.selectedAccountId, positionId, resolve, reject);
},</code></pre>
          <section id="getPositionByIdForAccount">
            <h1>getPositionByIdForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getPositionByIdForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to retrieve</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Returns a position for the provided id, without the up-to-date price and metrics on a specific account</p> </div>
          <pre><code class="language-javascript">getPositionByIdForAccount : function (accountId, positionId, resolve, reject){
    return tradableEmbed.makeAccountRequest(&quot;GET&quot;, accountId, &quot;positions/&quot;+positionId, null, resolve, reject);
},</code></pre>
          <section id="reducePositionToAmount">
            <h1>reducePositionToAmount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>reducePositionToAmount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to reduce</p></td>
              </tr>
              <tr>
                <td>newAmount</td>
                <td>String</td>
                <td><p>the new amount</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Reduces the position (on the selectedAccount) size, by setting a new quantity</p> </div>
          <pre><code class="language-javascript">reducePositionToAmount : function (positionId, newAmount, resolve, reject){
    return tradableEmbed.reducePositionToAmountForAccount(tradableEmbed.selectedAccountId, positionId, newAmount, resolve, reject);
},</code></pre>
          <section id="reducePositionToAmountForAccount">
            <h1>reducePositionToAmountForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>reducePositionToAmountForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to reduce</p></td>
              </tr>
              <tr>
                <td>newAmount</td>
                <td>String</td>
                <td><p>the new amount</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Reduces the position (on a specific account) size, by setting a new quantity</p> </div>
          <pre><code class="language-javascript">reducePositionToAmountForAccount : function (accountId, positionId, newAmount, resolve, reject){
    var amount = {&quot;amount&quot;: newAmount};
    return tradableEmbed.makeAccountRequest(&quot;PUT&quot;, accountId, &quot;positions/&quot;+positionId, amount, resolve, reject);
},</code></pre>
          <section id="closePosition">
            <h1>closePosition</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>closePosition()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Closes the position (on the selectedAccount) with the given id</p> </div>
          <pre><code class="language-javascript">closePosition : function (positionId, resolve, reject){
    return tradableEmbed.closePositionForAccount(tradableEmbed.selectedAccountId, positionId, resolve, reject);
},</code></pre>
          <section id="closePositionForAccount">
            <h1>closePositionForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>closePositionForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Closes the position (on a specific account) with the given id</p> </div>
          <pre><code class="language-javascript">closePositionForAccount : function (accountId, positionId, resolve, reject){
    return tradableEmbed.makeAccountRequest(&quot;DELETE&quot;, accountId, &quot;positions/&quot;+positionId, null, resolve, reject);
},
//v1/accounts/{accountId}/positions/{positionId}/protections</code></pre>
          <section id="addOrModifyProtections">
            <h1>addOrModifyProtections</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>addOrModifyProtections()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>stoploss</td>
                <td>double</td>
                <td><p>Stop Loss price</p></td>
              </tr>
              <tr>
                <td>takeprofit</td>
                <td>double</td>
                <td><p>Take Profit price</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Adds or modifies stoploss AND takeprofit on a position (on the selectedAccount) </p> </div>
          <pre><code class="language-javascript">addOrModifyProtections : function (positionId, takeProfit, stopLoss, resolve, reject) {
    return tradableEmbed.addOrModifyProtectionsForAccount(tradableEmbed.selectedAccountId, positionId, takeProfit, stopLoss, resolve, reject);
},</code></pre>
          <section id="addOrModifyProtectionsForAccount">
            <h1>addOrModifyProtectionsForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>addOrModifyProtectionsForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>stoploss</td>
                <td>double</td>
                <td><p>Stop Loss price</p></td>
              </tr>
              <tr>
                <td>takeprofit</td>
                <td>double</td>
                <td><p>Take Profit price</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Adds or modifies stoploss AND takeprofit on a position (on a specific account) </p> </div>
          <pre><code class="language-javascript">addOrModifyProtectionsForAccount : function (accountId, positionId, takeProfit, stopLoss, resolve, reject) {
    var protection = {&quot;takeprofit&quot;: takeProfit, &quot;stoploss&quot;: stopLoss};
    return tradableEmbed.makeAccountRequest(&quot;PUT&quot;, accountId, &quot;positions/&quot;+positionId+&quot;/protections/&quot;, protection, resolve, reject);
},</code></pre>
          <section id="cancelProtections">
            <h1>cancelProtections</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>cancelProtections()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Cancel stoploss and takeprofit protections on a position (on the selectedAccount) </p> </div>
          <pre><code class="language-javascript">cancelProtections : function (positionId, resolve, reject) {
    return tradableEmbed.cancelProtectionsForAccount(tradableEmbed.selectedAccountId, positionId, resolve, reject);
},</code></pre>
          <section id="cancelProtectionsForAccount">
            <h1>cancelProtectionsForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>cancelProtectionsForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Cancel stoploss and takeprofit protections on a position (on a specific account) </p> </div>
          <pre><code class="language-javascript">cancelProtectionsForAccount : function (accountId, positionId, resolve, reject) {
    return tradableEmbed.makeAccountRequest(&quot;DELETE&quot;, accountId, &quot;positions/&quot;+positionId+&quot;/protections/&quot;, null, resolve, reject);
},
//v1/accounts/{accountId}/positions/{positionId}/protections/{sltp}</code></pre>
          <section id="addOrModifyTakeProfit">
            <h1>addOrModifyTakeProfit</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>addOrModifyTakeProfit()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>newPrice</td>
                <td>String</td>
                <td><p>The new trigger price</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Adds or modifies the take profit order on a position. (on the selectedAccount)</p> </div>
          <pre><code class="language-javascript">addOrModifyTakeProfit : function (positionId, newPrice, resolve, reject) {
    return tradableEmbed.makeProtectionRequest(&quot;PUT&quot;, positionId, newPrice, &quot;TAKEPROFIT&quot;, resolve, reject);
},</code></pre>
          <section id="addOrModifyTakeProfitForAccount">
            <h1>addOrModifyTakeProfitForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>addOrModifyTakeProfitForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>newPrice</td>
                <td>String</td>
                <td><p>The new trigger price</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Adds or modifies the take profit order on a position. (on a specific account) </p> </div>
          <pre><code class="language-javascript">addOrModifyTakeProfitForAccount : function (accountId, positionId, newPrice, resolve, reject) {
    return tradableEmbed.makeProtectionRequestForAccount(&quot;PUT&quot;, accountId, positionId, newPrice, &quot;TAKEPROFIT&quot;, resolve, reject);
},</code></pre>
          <section id="addOrModifyStopLoss">
            <h1>addOrModifyStopLoss</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>addOrModifyStopLoss()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>newPrice</td>
                <td>String</td>
                <td><p>The new trigger price</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Adds or modifies the stop loss order on a position. (on the selectedAccount)</p> </div>
          <pre><code class="language-javascript">addOrModifyStopLoss : function (positionId, newPrice, resolve, reject) {
    return tradableEmbed.makeProtectionRequest(&quot;PUT&quot;, positionId, newPrice, &quot;STOPLOSS&quot;, resolve, reject);
},</code></pre>
          <section id="addOrModifyStopLossForAccount">
            <h1>addOrModifyStopLossForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>addOrModifyStopLossForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>newPrice</td>
                <td>String</td>
                <td><p>The new trigger price</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Adds or modifies the stop loss order on a position. (on a specific account) </p> </div>
          <pre><code class="language-javascript">addOrModifyStopLossForAccount : function (accountId, positionId, newPrice, resolve, reject) {
    return tradableEmbed.makeProtectionRequestForAccount(&quot;PUT&quot;, accountId, positionId, newPrice, &quot;STOPLOSS&quot;, resolve, reject);
},</code></pre>
          <section id="cancelTakeProfit">
            <h1>cancelTakeProfit</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>cancelTakeProfit()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Cancel the take profit order on a position. (on the selectedAccount) </p> </div>
          <pre><code class="language-javascript">cancelTakeProfit : function (positionId, resolve, reject) {
    return tradableEmbed.makeProtectionRequest(&quot;DELETE&quot;, positionId, 0, &quot;TAKEPROFIT&quot;, resolve, reject);
},</code></pre>
          <section id="cancelTakeProfitForAccount">
            <h1>cancelTakeProfitForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>cancelTakeProfitForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Cancel the take profit order on a position. (on a specific account) </p> </div>
          <pre><code class="language-javascript">cancelTakeProfitForAccount : function (accountId, positionId, resolve, reject) {
    return tradableEmbed.makeProtectionRequestForAccount(&quot;DELETE&quot;, accountId, positionId, 0, &quot;TAKEPROFIT&quot;, resolve, reject);
},</code></pre>
          <section id="cancelStopLoss">
            <h1>cancelStopLoss</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>cancelStopLoss()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Cancel the stop loss order on a position. (on the selectedAccount) </p> </div>
          <pre><code class="language-javascript">cancelStopLoss : function (positionId, resolve, reject) {
    return tradableEmbed.makeProtectionRequest(&quot;DELETE&quot;, positionId, 0, &quot;STOPLOSS&quot;, resolve, reject);
},</code></pre>
          <section id="cancelStopLossForAccount">
            <h1>cancelStopLossForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>cancelStopLossForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>positionId</td>
                <td>String</td>
                <td><p>Id of position to close</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>Cancel the stop loss order on a position. (on a specific account) </p> </div>
          <pre><code class="language-javascript">cancelStopLossForAccount : function (accountId, positionId, resolve, reject) {
    return tradableEmbed.makeProtectionRequestForAccount(&quot;DELETE&quot;, accountId, positionId, 0, &quot;STOPLOSS&quot;, resolve, reject);
},
makeProtectionRequest : function (method, positionId, newPrice, type, resolve, reject) {
    return tradableEmbed.makeProtectionRequestForAccount(method, tradableEmbed.selectedAccountId, positionId, newPrice, type, resolve, reject);
},
makeProtectionRequestForAccount : function (method, accountId, positionId, newPrice, type, resolve, reject) {
    var orderModification = {&quot;price&quot;: newPrice};
    if(method === &quot;DELETE&quot;) {
        orderModification = null;
    }
    return tradableEmbed.makeAccountRequest(method, accountId, &quot;positions/&quot;+positionId+&quot;/protections/&quot;+type, orderModification, resolve, reject);
},
//v1/accounts/{accountId}/prices</code></pre>
          <section id="getPrices">
            <h1>getPrices</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getPrices()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>symbols</td>
                <td>Array</td>
                <td><p>Array of symbols for the wanted prices</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>A list of prices for certain symbols (on the selectedAccount) </p> </div>
          <pre><code class="language-javascript">getPrices : function (symbols, resolve, reject) {
    return tradableEmbed.getPricesForAccount(tradableEmbed.selectedAccountId, symbols, resolve, reject);
},</code></pre>
          <section id="getPricesForAccount">
            <h1>getPricesForAccount</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getPricesForAccount()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>uniqueId</td>
                <td>String</td>
                <td><p>The unique id for the account the request goes to</p></td>
              </tr>
              <tr>
                <td>symbols</td>
                <td>Array</td>
                <td><p>Array of symbols for the wanted prices</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>A list of prices for certain symbols (on a specific account) </p> </div>
          <pre><code class="language-javascript">getPricesForAccount : function (accountId, symbols, resolve, reject) {
    var symbolsObj = {&quot;symbols&quot;: symbols};
    return tradableEmbed.makeAccountRequest(&quot;POST&quot;, accountId, &quot;prices/&quot;, symbolsObj, resolve, reject);
},
makeCandleRequest : function (method, symbolsArray, resolve, reject) {
    var symbolsObj = {symbols: symbolsArray};
    var ajaxPromise = $.ajax({
        type: &quot;POST&quot;,
        crossDomain: true,
        url: &quot;https://candles-api.tradable.com/&quot; + method,
        contentType: &quot;application/json; charset=utf-8&quot;,
        data: JSON.stringify(symbolsObj),
        dataType: 'json'
    });
    
    if(!!resolve || !!reject){
        return ajaxPromise.then(function(data){
            if(typeof resolve === &quot;function&quot;) {
                if(!!data.dailyClose) {
                    return resolve(data.dailyClose);
                } else {
                    return resolve(data);
                }
            }
        }, function(jqXHR, message, error){
            if(typeof reject === &quot;function&quot;)
                return reject(jqXHR, message, error);
        });
    } else {
        var d = new $.Deferred();
        ajaxPromise.then(function(data) {
            if(!!data.dailyClose) {
                return d.resolve(data.dailyClose);
            } else {
                return d.resolve(data);
            }
        }, function(jqXHR, message, error) {
            return d.reject(jqXHR, message, error);
        });
        if(typeof Promise !== &quot;undefined&quot; &amp;&amp; Promise.toString().indexOf(&quot;[native code]&quot;) !== -1){
            return Promise.resolve(d.promise());
        } else {
            return d.promise();
        }
    }
},</code></pre>
          <section id="getDailyClose">
            <h1>getDailyClose</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>getDailyClose()</span>
            </p>
          </section>
          <table class="table table-bordered table-striped table-condensed">
            <thead>
              <tr>
                <th style="width:20%">Option name</th>
                <th style="width:20%">Type</th>
                <th>Description</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>symbols</td>
                <td>Array</td>
                <td><p>Array of symbols for the wanted daily close prices</p></td>
              </tr>
              <tr>
                <td>resolve(optional)</td>
                <td>Function</td>
                <td><p>Success callback for the API call, errors don&#39;t get called through this callback</p></td>
              </tr>
              <tr>
                <td>reject(optional)</td>
                <td>Function</td>
                <td><p>Error callback for the API call</p></td>
              </tr>
              <tr>
                <td>return</td>
                <td>Object</td>
                <td><p>If resolve/reject are not specified it returns a Promise for chaining, otherwise it calls the resolve/reject handlers</p></td>
              </tr>
            </tbody>
          </table>
          <div class="description"><p>A list of close prices for the previous day for certain symbols (on a specific account) </p> </div>
          <pre><code class="language-javascript">getDailyClose : function (symbolsArray, resolve, reject) {
    return tradableEmbed.makeCandleRequest(&quot;dailyClose&quot;, symbolsArray, resolve, reject);
},
enableTrading : function(access_token, end_point, expires_in){
    console.log(&quot;Activating TradableEmbed...&quot;);

    //if(!!tradableEmbed.auth_window){
    //    tradableEmbed.auth_window.close();
    //}

    tradableEmbed.accessToken = access_token;
    tradableEmbed.authEndpoint = end_point;
    tradableEmbed.tradingEnabled = true;

    localStorage.setItem(&quot;accessToken:&quot;+appId, tradableEmbed.accessToken);
    localStorage.setItem(&quot;authEndpoint:&quot;+appId, tradableEmbed.authEndpoint);
    localStorage.setItem(&quot;tradingEnabled:&quot;+appId, tradableEmbed.tradingEnabled);

    if(!!expires_in) {
        tradableEmbed.expirationTimeUTC = new Date().getTime() + (parseInt(expires_in) * 1000); //expires conversion
        localStorage.setItem(&quot;expirationTimeUTC:&quot;+appId, tradableEmbed.expirationTimeUTC);
    }

    if(tradableEmbed.accounts.length === 0) {
        tradableEmbed.getAccounts().then(function(accounts) {
            setSelectedAccountAndNotify();
        });
    } else {
        setSelectedAccountAndNotify();
    }

    function setSelectedAccountAndNotify() {
        console.log('Accounts initialized');
        tradableEmbed.setSelectedAccount(tradableEmbed.accounts[0].uniqueId, function() {
            notifyReadyCallbacks();
        });
    }
}
    };
    
    initializeLibrary();
	
    return tradableEmbed;

    function initializeLibrary(){
var success = false;
var opener = window.opener;
if(!!opener &amp;&amp; window.name === &quot;osLaunch&quot;){            
    var hashFragment = window.location.hash;
    if(hashFragment) {
        try {
            opener.postMessage('replace your location', '*');
            success = processHashFragment(hashFragment, opener.tradableEmbed);
        } catch(err) {
            success = false;
        }
        if(!success) {
            success = processHashFragment(hashFragment, tradableEmbed);
        }
    }
} else if(window.location.hash 
            &amp;&amp; (window.location.hash.indexOf(&quot;access_token&quot;) !== -1 
            &amp;&amp; window.location.hash.indexOf(&quot;endpointURL&quot;) !== -1
            &amp;&amp; window.location.hash.indexOf(&quot;expires_in&quot;) !== -1)) {
    success = processHashFragment(window.location.hash, tradableEmbed);
} else if(tradableEmbed.tradingEnabled) {
    validateToken();
    success = true;
}

if(!success) {
   console.log('Initiating without authentication...');
   $(document).ready(function() {
       notifyReadyCallbacks();
   });
}

function processHashFragment(hashFragment, tradableEmbed){
    var accessToken;
    var endPoint;
    var expiresIn;

    tradableEmbed.tradingEnabled = false;
    localStorage.setItem(&quot;tradingEnabled:&quot;+appId, false);

    var keyValues = hashFragment.replace('#', '').split('&amp;');
    $(keyValues).each(function(index, keyValuePair){
        var kvPair = keyValuePair.split('=');
        var key = kvPair[0];
        var value = kvPair[1];
        if(key === 'access_token') {
            accessToken = value;
        } else if(key === 'endpointURL') {
            endPoint = value;
        } else if(key === 'expires_in') {
            expiresIn = value;
        }
    });
    if(!!accessToken &amp;&amp; !!endPoint) {
        tradableEmbed.enableTrading(accessToken, endPoint, expiresIn);
        if(window.name === &quot;osLaunch&quot;) {
            window.close();
        }
        return true;
    } else {
        return false;
    }
}
    }

    function popupwindow(url, windowName, w, h){
var wLeft = window.screenLeft ? window.screenLeft : window.screenX;
var wTop = window.screenTop ? window.screenTop : window.screenY;
var left = wLeft + (window.innerWidth / 2) - (w / 2);
var top = wTop + (window.innerHeight / 2) - (h / 2);
return window.open(url, windowName, 'toolbar=no, titlebar=no, directories=no, status=no, menubar=no, '
    + 'scrollbars=no, resizable=no, copyhistory=no, width=' + w + ', height=' + h + ', top=' + top + ', left=' + left);
    }

    function notifyReadyCallbacks() {
$(tradableEmbed.readyCallbacks).each(function(index, callback){
    callback();
});
tradableEmbed.notifiedCallbacks = true;
    }

    function notifyTokenExpired() {
tradableEmbed.tradingEnabled = false;
localStorage.setItem(&quot;tradingEnabled:&quot;+appId, false);
$(tokenExpirationCallbacks).each(function(index, callback){
    callback();
});
notifyReadyCallbacks();
    }

    function initializeValuesForCurrentAccount(resolve, reject) {
console.log('Initializing values for current account');
var reset = false;
if(tradableEmbed.tradingEnabled) {
    tradableEmbed.tradingEnabled = false;
    reset = true;
}
return tradableEmbed.getInstruments().then(function(acctInstruments){
    tradableEmbed.availableCategories.splice(0, tradableEmbed.availableCategories.length);
    tradableEmbed.availableInstruments.splice(0, tradableEmbed.availableInstruments.length);
    tradableEmbed.availableSymbols.splice(0, tradableEmbed.availableSymbols.length);
    tradableEmbed.availableCurrencies.splice(0, tradableEmbed.availableCurrencies.length);
    
    var nonValidCurrencies = [&quot;100&quot;, &quot;200&quot;, &quot;225&quot;, &quot;spx&quot;, &quot;h33&quot;, &quot;nas&quot;, &quot;u30&quot;, &quot;e50&quot;, &quot;f40&quot;, &quot;d30&quot;, &quot;e35&quot;, &quot;i40&quot;, &quot;z30&quot;, &quot;s30&quot;, &quot;uso&quot;, &quot;uko&quot;];
    $(acctInstruments).each(function(index, instrument){
         tradableEmbed.availableInstruments.push(instrument);
         tradableEmbed.availableSymbols.push(instrument.symbol);
         
         if(instrument.type === &quot;FOREX&quot; &amp;&amp; instrument.symbol.length === 6) {
             var ccy1 = instrument.symbol.toLowerCase().substring(0, 3);
             var ccy2 = instrument.symbol.toLowerCase().substring(3, 6);
             if ($.inArray(ccy1, tradableEmbed.availableCurrencies) === -1
                    &amp;&amp; $.inArray(ccy1, nonValidCurrencies) === -1){ // doesn't exist
                 tradableEmbed.availableCurrencies.push(ccy1);
             }
             if ($.inArray(ccy2, tradableEmbed.availableCurrencies) === -1
                     &amp;&amp; $.inArray(ccy1, nonValidCurrencies) === -1){
                 tradableEmbed.availableCurrencies.push(ccy2);
             }
         }

         if ($.inArray(instrument.type, tradableEmbed.availableCategories) === -1){
             tradableEmbed.availableCategories.push(instrument.type);
         } 
    });
    if(reset) {
        tradableEmbed.tradingEnabled = true;
    }
    if(!!resolve &amp;&amp; typeof resolve === &quot;function&quot;) {
        return resolve(tradableEmbed.accounts);
    } else {
        return this;
    }
    //return
}, function(error) {
    if(!!reject &amp;&amp; typeof reject === &quot;function&quot;) {
        return reject(error);
    } else {
        return this;
    }
});
    }

    function validateToken() {
console.log(&quot;Validating token...&quot;);
// Check token validity
tradableEmbed.getAccounts().then(
    function(accounts) {
        tradableEmbed.enableTrading(tradableEmbed.accessToken, tradableEmbed.authEndpoint);
    }, 
    function() {
        tradableEmbed.tradingEnabled = false;
        localStorage.setItem(&quot;tradingEnabled:&quot;+appId, tradableEmbed.tradingEnabled);
        notifyReadyCallbacks();
    });
    }

    function processAccountUpdate() {
if(tradableEmbed.tradingEnabled &amp;&amp; !processingUpdate) {
    processingUpdate = true;
    var symbolArray = [];
    $(tradableEmbed.symbolKeysForAccountUpdates).each(function(idx, elem) {
        var symbol = elem.substring(0, elem.indexOf(&quot;:&quot;));
        if($.inArray(symbol, symbolArray) === -1) {
            symbolArray.push(symbol);
        }
    });
    tradableEmbed.getSnapshot(symbolArray).then(function(account) {
        tradableEmbed.lastSnapshot = account;
        $.each(accountUpdatedCallbacks, function(idx, call) {
            call(account);
        });
        processingUpdate = false;
    }, function() {
        processingUpdate = false;
    });
}
    }

    var i;
    var char;
    function hashCode(str){
var hash = 0;
if (str.length == 0) return hash;
for (i = 0; i &lt; str.length; i++) {
    char = str.charCodeAt(i);
    hash = ((hash&lt;&lt;5)-hash)+char;
    hash = hash &amp; hash; // Convert to 32bit integer
}
return hash;
    }

    function ie() {
return ((navigator.userAgent.indexOf(&quot;MSIE&quot;) != -1) || (/rv:11.0/i.test(navigator.userAgent)))
    }

})(trEmbJQ);</code></pre>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container">
        <p>Documentation generated with <a href="https://github.com/FGRibreau/doxx">Doxx </a> created by <a href="https://twitter.com/FGRibreau" data-show-count="false" class="twitter-follow-button">Francois-Guillaume Ribreau </a></p>
        <p>Doxx is sponsored by <a href="http://bringr.net/?btt" title="Outil d'analyse des rseaux sociaux" class="bringr">Bringr </a> and <a href="https://redsmin.com/?btt" title="Full Redis GUI" class="redsmin">Redsmin</a></p>
        <p>Theme borrowed from Twitter Bootstrap</p>
      </div>
    </footer>
    <script src="http://platform.twitter.com/widgets.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
    <script src="http://leaverou.github.com/prefixfree/prefixfree.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-transition.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-scrollspy.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-dropdown.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-collapse.js"></script>
    <script src="http://getbootstrap.com/2.3.2/assets/js/bootstrap-affix.js"></script>
    <script>
      /**
       * Prism: Lightweight, robust, elegant syntax highlighting
       * MIT license http://www.opensource.org/licenses/mit-license.php/
       * @author Lea Verou http://lea.verou.me
       */(function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case"Object":var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t.util.clone(e[i]));return r;case"Array":return e.slice()}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var i in n)r[i]=n[i];return r},insertBefore:function(e,n,r,i){i=i||t.languages;var s=i[e],o={};for(var u in s)if(s.hasOwnProperty(u)){if(u==n)for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);o[u]=s[u]}return i[e]=o},DFS:function(e,n){for(var r in e){n.call(e,r,e[r]);t.util.type(e)==="Object"&&t.languages.DFS(e[r],n)}}},highlightAll:function(e,n){var r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code');for(var i=0,s;s=r[i++];)t.highlightElement(s,e===!0,n)},highlightElement:function(r,i,s){var o,u,a=r;while(a&&!e.test(a.className))a=a.parentNode;if(a){o=(a.className.match(e)||[,""])[1];u=t.languages[o]}if(!u)return;r.className=r.className.replace(e,"").replace(/\s+/g," ")+" language-"+o;a=r.parentNode;/pre/i.test(a.nodeName)&&(a.className=a.className.replace(e,"").replace(/\s+/g," ")+" language-"+o);var f=r.textContent;if(!f)return;f=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00a0/g," ");var l={element:r,language:o,grammar:u,code:f};t.hooks.run("before-highlight",l);if(i&&self.Worker){var c=new Worker(t.filename);c.onmessage=function(e){l.highlightedCode=n.stringify(JSON.parse(e.data));l.element.innerHTML=l.highlightedCode;s&&s.call(l.element);t.hooks.run("after-highlight",l)};c.postMessage(JSON.stringify({language:l.language,code:l.code}))}else{l.highlightedCode=t.highlight(l.code,l.grammar);l.element.innerHTML=l.highlightedCode;s&&s.call(r);t.hooks.run("after-highlight",l)}},highlight:function(e,r){return n.stringify(t.tokenize(e,r))},tokenize:function(e,n){var r=t.Token,i=[e],s=n.rest;if(s){for(var o in s)n[o]=s[o];delete n.rest}e:for(var o in n){if(!n.hasOwnProperty(o)||!n[o])continue;var u=n[o],a=u.inside,f=!!u.lookbehind||0;u=u.pattern||u;for(var l=0;l<i.length;l++){var c=i[l];if(i.length>e.length)break e;if(c instanceof r)continue;u.lastIndex=0;var h=u.exec(c);if(h){f&&(f=h[1].length);var p=h.index-1+f,h=h[0].slice(f),d=h.length,v=p+d,m=c.slice(0,p+1),g=c.slice(v+1),y=[l,1];m&&y.push(m);var b=new r(o,a?t.tokenize(h,a):h);y.push(b);g&&y.push(g);Array.prototype.splice.apply(i,y)}}}return i},hooks:{all:{},add:function(e,n){var r=t.hooks.all;r[e]=r[e]||[];r[e].push(n)},run:function(e,n){var r=t.hooks.all[e];if(!r||!r.length)return;for(var i=0,s;s=r[i++];)s(n)}}},n=t.Token=function(e,t){this.type=e;this.content=t};n.stringify=function(e){if(typeof e=="string")return e;if(Object.prototype.toString.call(e)=="[object Array]"){for(var r=0;r<e.length;r++)e[r]=n.stringify(e[r]);return e.join("")}var i={type:e.type,content:n.stringify(e.content),tag:"span",classes:["token",e.type],attributes:{}};i.type=="comment"&&(i.attributes.spellcheck="true");t.hooks.run("wrap",i);var s="";for(var o in i.attributes)s+=o+'="'+(i.attributes[o]||"")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'" '+s+">"+i.content+"</"+i.tag+">"};if(!self.document){self.addEventListener("message",function(e){var n=JSON.parse(e.data),r=n.language,i=n.code;self.postMessage(JSON.stringify(t.tokenize(i,t.languages[r])));self.close()},!1);return}var r=document.getElementsByTagName("script");r=r[r.length-1];if(r){t.filename=r.src;document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)}})();;
      Prism.languages.markup={comment:/&lt;!--[\w\W]*?--(&gt;|&gt;)/g,prolog:/&lt;\?.+?\?&gt;/,doctype:/&lt;!DOCTYPE.+?&gt;/,cdata:/&lt;!\[CDATA\[[\w\W]+?]]&gt;/i,tag:{pattern:/&lt;\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|\w+))?\s*)*\/?&gt;/gi,inside:{tag:{pattern:/^&lt;\/?[\w:-]+/i,inside:{punctuation:/^&lt;\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|&gt;|"/g}},punctuation:/\/?&gt;/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/&amp;#?[\da-z]{1,8};/gi};Prism.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))});;
      Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:/@[\w-]+?(\s+[^;{]+)?(?=\s*{|\s*;)/gi,url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,property:/(\b|\B)[a-z-]+(?=\s*:)/ig,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[\{\};:]/g};Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/style(>|&gt;)/ig,inside:{tag:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)|(&lt;|<)\/style(>|&gt;)/ig,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}});;
      Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,number:/\b-?(0x)?\d*\.?[\da-f]+\b/g,operator:/[-+]{1,2}|!|=?&lt;|=?&gt;|={1,2}|(&amp;){1,2}|\|?\||\?|\*|\//g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g};;
      Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|catch|finally|null|break|continue)\b/g,number:/\b(-?(0x)?\d*\.?[\da-f]+|NaN|-?Infinity)\b/g});Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}});Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/ig,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/ig,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}});;
      
    </script>
    <!-- App js-->
    <script>
      $(function(){
        var $window = $(window);
        $('.scrollspy .nav').affix({
          offset: {
            top: function () { return $window.width() <= 980 ? 480 : 400 }
          , bottom: 50
          }
        });
      })
    </script>
  </body>
</html>